<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=https://actix.rs/css/bootstrap-reboot.css><link rel=stylesheet href=https://actix.rs/css/bootstrap.css><link rel=stylesheet href=https://actix.rs/css/font-awesome.min.css><link rel=stylesheet href=https://actix.rs/css/actix.css><link rel=stylesheet href=https://actix.rs/css/highlight.css><link rel=icon href=https://actix.rs/favicon.ico title=actix><title>Extractors</title></head><body><header class="navbar navbar-light navbar-toggleable-md bd-navbar"><nav class=actix-main-nav><div class="d-flex justify-content-between hidden-lg-up"><a href=https://actix.rs/ class=navbar-brand><img src=https://actix.rs/img/logo-nav.png class=align-middle alt></a>
<button class="navbar-toggle collapsed" type=button data-toggle=collapse data-target=#actix-main-nav aria-label="Toggle navigation" aria-controls=actix-main-nav aria-expanded=false>
<span class=navbar-toggler-icon></span></button></div><div class="navbar-collapse collapse" id=actix-main-nav><ul class="nav navbar-nav"><li class="nav-item hd-lg-down"><a class=navbar-brand href=https://actix.rs/><img src=https://actix.rs/img/logo-nav.png class=align-middle alt></a></li><li class=nav-item><a class=nav-link href=https://actix.rs/>Home</a></li><li class=nav-item><a class=nav-link href=https://actix.rs/docs/>Documentation</a></li><li class=nav-item><a class=nav-link href=https://actix.rs/community/>Community</a></li><li class=nav-item><a class=nav-link href=https://actix.rs/code/>Code</a></li></ul></div></nav></header><div class=actix-pageheader><div class=container><h1 class=display-4>Extractors</h1></div></div><div class="container actix-docs"><div class=row><div class=col-md-3><button class="btn doctoggle" type=button data-toggle=collapse data-target=#collapsing-docnav aria-expanded=false aria-controls=collapsing-docnav>
Toggle navigation</button><nav class="leftnav collapse show" id=collapsing-docnav><div><h5>Introduction</h5><div><ul class=nav><li><a href=https://actix.rs/docs/>Welcome</a></li><li><a href=https://actix.rs/docs/whatis/>What is Actix</a></li></ul></div><h5>Basics</h5><div><ul class=nav><li><a href=https://actix.rs/docs/getting-started/>Getting Started</a></li><li><a href=https://actix.rs/docs/application/>Application</a></li><li><a href=https://actix.rs/docs/server/>Server</a></li><li><a href=https://actix.rs/docs/handlers/>Handlers</a></li><li class=active><a href=https://actix.rs/docs/extractors/>Extractors</a></li></ul></div><h5>Advanced</h5><div><ul class=nav><li><a href=https://actix.rs/docs/errors/>Errors</a></li><li><a href=https://actix.rs/docs/url-dispatch/>URL Dispatch</a></li><li><a href=https://actix.rs/docs/request/>Requests</a></li><li><a href=https://actix.rs/docs/response/>Responses</a></li><li><a href=https://actix.rs/docs/testing/>Testing</a></li><li><a href=https://actix.rs/docs/middleware/>Middleware</a></li><li><a href=https://actix.rs/docs/static-files/>Static Files</a></li></ul></div><h5>Protocols</h5><div><ul class=nav><li><a href=https://actix.rs/docs/websockets/>Websockets</a></li><li><a href=https://actix.rs/docs/http2/>HTTP/2</a></li></ul></div><h5>Patterns</h5><div><ul class=nav><li><a href=https://actix.rs/docs/databases/>Databases</a></li></ul></div><h5>Diagrams</h5><div><ul class=nav><li><a href=https://actix.rs/docs/http_server_init/>HTTP Server Initialization</a></li><li><a href=https://actix.rs/docs/conn_lifecycle/>Connection Lifecycle</a></li></ul></div><h5>API Documentation</h5><div><ul class=nav><li><a href=https://docs.rs/actix target=view_window>actix <span class="fa fa-external-link"></span></a></li><li><a href=https://docs.rs/actix-web/ target=view_window>actix-web <span class="fa fa-external-link"></span></a></li></ul></div></div></nav></div><div class=col-md-9><div class=actix-content><h1 id=type-safe-information-extraction>Type-safe information extraction</h1><p>Actix-web provides a facility for type-safe request information access called <em>extractors</em>
(ie, <code>impl FromRequest</code>). By default, actix-web provides several extractor implementations.</p><p>An extractor can be accessed as an argument to a handler function. Actix-web supports
up to 10 extractors per handler function. Argument position does not matter.</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>index</span><span class=p>(</span><span class=n>path</span>: <span class=nc>web</span>::<span class=n>Path</span><span class=o>&lt;</span><span class=p>(</span><span class=nb>String</span><span class=p>,</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=n>json</span>: <span class=nc>web</span>::<span class=n>Json</span><span class=o>&lt;</span><span class=n>MyInfo</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>impl</span><span class=w> </span><span class=n>Responder</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>path</span><span class=p>.</span><span class=n>into_inner</span><span class=p>();</span><span class=w>
</span><span class=w>    </span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;{} {} {} {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>path</span><span class=p>.</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>path</span><span class=p>.</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>json</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>json</span><span class=p>.</span><span class=n>username</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h1 id=path>Path</h1><p><a href=https://docs.rs/actix-web/3/actix_web/dev/struct.Path.html><em>Path</em></a> provides information that can be extracted from the Request&rsquo;s
path. You can deserialize any variable segment from the path.</p><p>For instance, for resource that registered for the <code>/users/{user_id}/{friend}</code> path,
two segments could be deserialized, <code>user_id</code> and <code>friend</code>. These segments could be
extracted into a <code>tuple</code>, i.e. <code>Path&lt;(u32, String)></code> or any structure that implements
the <code>Deserialize</code> trait from the <em>serde</em> crate.</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>get</span><span class=p>,</span><span class=w> </span><span class=n>web</span><span class=p>,</span><span class=w> </span><span class=nb>Result</span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=sd>/// extract path info from &#34;/users/{user_id}/{friend}&#34; url
</span><span class=sd>/// {user_id} - deserializes to a u32
</span><span class=sd>/// {friend} - deserializes to a String
</span><span class=sd></span><span class=cp>#[get(</span><span class=s>&#34;/users/{user_id}/{friend}&#34;</span><span class=cp>)]</span><span class=w> </span><span class=c1>// &lt;- define path parameters
</span><span class=c1></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>index</span><span class=p>(</span><span class=n>web</span>::<span class=n>Path</span><span class=p>((</span><span class=n>user_id</span><span class=p>,</span><span class=w> </span><span class=n>friend</span><span class=p>))</span>: <span class=nc>web</span>::<span class=n>Path</span><span class=o>&lt;</span><span class=p>(</span><span class=kt>u32</span><span class=p>,</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=nb>String</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=nb>Ok</span><span class=p>(</span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;Welcome {}, user_id {}!&#34;</span><span class=p>,</span><span class=w> </span><span class=n>friend</span><span class=p>,</span><span class=w> </span><span class=n>user_id</span><span class=p>))</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[actix_web::main]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span>-&gt; <span class=nc>std</span>::<span class=n>io</span>::<span class=nb>Result</span><span class=o>&lt;</span><span class=p>()</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=n>HttpServer</span>::<span class=n>new</span><span class=p>(</span><span class=o>||</span><span class=w> </span><span class=n>App</span>::<span class=n>new</span><span class=p>().</span><span class=n>service</span><span class=p>(</span><span class=n>index</span><span class=p>))</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>bind</span><span class=p>(</span><span class=s>&#34;127.0.0.1:8080&#34;</span><span class=p>)</span><span class=o>?</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>run</span><span class=p>()</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>await</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><p>It is also possible to extract path information to a specific type that implements the
<code>Deserialize</code> trait from <em>serde</em>. Here is an equivalent example that uses <em>serde</em>
instead of a <em>tuple</em> type.</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>get</span><span class=p>,</span><span class=w> </span><span class=n>web</span><span class=p>,</span><span class=w> </span><span class=nb>Result</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>serde</span>::<span class=n>Deserialize</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[derive(Deserialize)]</span><span class=w>
</span><span class=w></span><span class=k>struct</span> <span class=nc>Info</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>user_id</span>: <span class=kt>u32</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>friend</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=sd>/// extract path info using serde
</span><span class=sd></span><span class=cp>#[get(</span><span class=s>&#34;/users/{user_id}/{friend}&#34;</span><span class=cp>)]</span><span class=w> </span><span class=c1>// &lt;- define path parameters
</span><span class=c1></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>index</span><span class=p>(</span><span class=n>info</span>: <span class=nc>web</span>::<span class=n>Path</span><span class=o>&lt;</span><span class=n>Info</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=nb>String</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=nb>Ok</span><span class=p>(</span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=w>
</span><span class=w>        </span><span class=s>&#34;Welcome {}, user_id {}!&#34;</span><span class=p>,</span><span class=w>
</span><span class=w>        </span><span class=n>info</span><span class=p>.</span><span class=n>friend</span><span class=p>,</span><span class=w> </span><span class=n>info</span><span class=p>.</span><span class=n>user_id</span><span class=w>
</span><span class=w>    </span><span class=p>))</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[actix_web::main]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span>-&gt; <span class=nc>std</span>::<span class=n>io</span>::<span class=nb>Result</span><span class=o>&lt;</span><span class=p>()</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=n>HttpServer</span>::<span class=n>new</span><span class=p>(</span><span class=o>||</span><span class=w> </span><span class=n>App</span>::<span class=n>new</span><span class=p>().</span><span class=n>service</span><span class=p>(</span><span class=n>index</span><span class=p>))</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>bind</span><span class=p>(</span><span class=s>&#34;127.0.0.1:8080&#34;</span><span class=p>)</span><span class=o>?</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>run</span><span class=p>()</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>await</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><p>It is also possible to <code>get</code> or <code>query</code> the request for path parameters by name:</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=cp>#[get(</span><span class=s>&#34;/users/{userid}/{friend}&#34;</span><span class=cp>)]</span><span class=w> </span><span class=c1>// &lt;- define path parameters
</span><span class=c1></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>index</span><span class=p>(</span><span class=n>req</span>: <span class=nc>HttpRequest</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=nb>String</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>name</span>: <span class=nb>String</span> <span class=o>=</span><span class=w> </span><span class=n>req</span><span class=p>.</span><span class=n>match_info</span><span class=p>().</span><span class=n>get</span><span class=p>(</span><span class=s>&#34;friend&#34;</span><span class=p>).</span><span class=n>unwrap</span><span class=p>().</span><span class=n>parse</span><span class=p>().</span><span class=n>unwrap</span><span class=p>();</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>userid</span>: <span class=kt>i32</span> <span class=o>=</span><span class=w> </span><span class=n>req</span><span class=p>.</span><span class=n>match_info</span><span class=p>().</span><span class=n>query</span><span class=p>(</span><span class=s>&#34;userid&#34;</span><span class=p>).</span><span class=n>parse</span><span class=p>().</span><span class=n>unwrap</span><span class=p>();</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=nb>Ok</span><span class=p>(</span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;Welcome {}, userid {}!&#34;</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>userid</span><span class=p>))</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[actix_web::main]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span>-&gt; <span class=nc>std</span>::<span class=n>io</span>::<span class=nb>Result</span><span class=o>&lt;</span><span class=p>()</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=n>HttpServer</span>::<span class=n>new</span><span class=p>(</span><span class=o>||</span><span class=w> </span><span class=n>App</span>::<span class=n>new</span><span class=p>().</span><span class=n>service</span><span class=p>(</span><span class=n>index</span><span class=p>))</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>bind</span><span class=p>(</span><span class=s>&#34;127.0.0.1:8080&#34;</span><span class=p>)</span><span class=o>?</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>run</span><span class=p>()</span><span class=w>
</span><span class=w>        </span><span class=p>.</span><span class=n>await</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h1 id=query>Query</h1><p>The <a href=https://docs.rs/actix-web/3/actix_web/web/struct.Query.html><em>Query</em></a> type provides extraction functionality for the request&rsquo;s
query parameters. Underneath it uses <em>serde_urlencoded</em> crate.</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>get</span><span class=p>,</span><span class=w> </span><span class=n>web</span><span class=p>,</span><span class=w> </span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>serde</span>::<span class=n>Deserialize</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[derive(Deserialize)]</span><span class=w>
</span><span class=w></span><span class=k>struct</span> <span class=nc>Info</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>username</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>// this handler get called only if the request&#39;s query contains `username` field
</span><span class=c1></span><span class=cp>#[get(</span><span class=s>&#34;/&#34;</span><span class=cp>)]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>index</span><span class=p>(</span><span class=n>info</span>: <span class=nc>web</span>::<span class=n>Query</span><span class=o>&lt;</span><span class=n>Info</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span> <span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;Welcome {}!&#34;</span><span class=p>,</span><span class=w> </span><span class=n>info</span><span class=p>.</span><span class=n>username</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h1 id=json>Json</h1><p><a href=https://docs.rs/actix-web/3/actix_web/web/struct.Json.html><em>Json</em></a> allows deserialization of a request body into a struct. To extract
typed information from a request&rsquo;s body, the type <code>T</code> must implement the <code>Deserialize</code>
trait from <em>serde</em>.</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>get</span><span class=p>,</span><span class=w> </span><span class=n>web</span><span class=p>,</span><span class=w> </span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>,</span><span class=w> </span><span class=nb>Result</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>serde</span>::<span class=n>Deserialize</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[derive(Deserialize)]</span><span class=w>
</span><span class=w></span><span class=k>struct</span> <span class=nc>Info</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>username</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=sd>/// deserialize `Info` from request&#39;s body
</span><span class=sd></span><span class=cp>#[get(</span><span class=s>&#34;/&#34;</span><span class=cp>)]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>index</span><span class=p>(</span><span class=n>info</span>: <span class=nc>web</span>::<span class=n>Json</span><span class=o>&lt;</span><span class=n>Info</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=nb>String</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=nb>Ok</span><span class=p>(</span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;Welcome {}!&#34;</span><span class=p>,</span><span class=w> </span><span class=n>info</span><span class=p>.</span><span class=n>username</span><span class=p>))</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><p>Some extractors provide a way to configure the extraction process. Json extractor
<a href=https://docs.rs/actix-web/3/actix_web/web/struct.JsonConfig.html><em>JsonConfig</em></a> type for configuration. To configure an extractor, pass its
configuration object to the resource&rsquo;s <code>.data()</code> method. In case of a <em>Json</em> extractor
it returns a <em>JsonConfig</em>. You can configure the maximum size of the json payload as
well as a custom error handler function.</p><p>The following example limits the size of the payload to 4kb and uses a custom error handler.</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>error</span><span class=p>,</span><span class=w> </span><span class=n>web</span><span class=p>,</span><span class=w> </span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>FromRequest</span><span class=p>,</span><span class=w> </span><span class=n>HttpResponse</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>,</span><span class=w> </span><span class=n>Responder</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>serde</span>::<span class=n>Deserialize</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[derive(Deserialize)]</span><span class=w>
</span><span class=w></span><span class=k>struct</span> <span class=nc>Info</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>username</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=sd>/// deserialize `Info` from request&#39;s body, max payload size is 4kb
</span><span class=sd></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>index</span><span class=p>(</span><span class=n>info</span>: <span class=nc>web</span>::<span class=n>Json</span><span class=o>&lt;</span><span class=n>Info</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>impl</span><span class=w> </span><span class=n>Responder</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;Welcome {}!&#34;</span><span class=p>,</span><span class=w> </span><span class=n>info</span><span class=p>.</span><span class=n>username</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[actix_web::main]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span>-&gt; <span class=nc>std</span>::<span class=n>io</span>::<span class=nb>Result</span><span class=o>&lt;</span><span class=p>()</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>HttpServer</span>::<span class=n>new</span><span class=p>(</span><span class=o>||</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>json_config</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>web</span>::<span class=n>JsonConfig</span>::<span class=n>default</span><span class=p>()</span><span class=w>
</span><span class=w>            </span><span class=p>.</span><span class=n>limit</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span><span class=w>
</span><span class=w>            </span><span class=p>.</span><span class=n>error_handler</span><span class=p>(</span><span class=o>|</span><span class=n>err</span><span class=p>,</span><span class=w> </span><span class=n>_req</span><span class=o>|</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>                </span><span class=c1>// create custom error response
</span><span class=c1></span><span class=w>                </span><span class=n>error</span>::<span class=n>InternalError</span>::<span class=n>from_response</span><span class=p>(</span><span class=n>err</span><span class=p>,</span><span class=w> </span><span class=n>HttpResponse</span>::<span class=n>Conflict</span><span class=p>().</span><span class=n>finish</span><span class=p>()).</span><span class=n>into</span><span class=p>()</span><span class=w>
</span><span class=w>            </span><span class=p>});</span><span class=w>
</span><span class=w>
</span><span class=w>        </span><span class=n>App</span>::<span class=n>new</span><span class=p>().</span><span class=n>service</span><span class=p>(</span><span class=w>
</span><span class=w>            </span><span class=n>web</span>::<span class=n>resource</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>)</span><span class=w>
</span><span class=w>                </span><span class=c1>// change json extractor configuration
</span><span class=c1></span><span class=w>                </span><span class=p>.</span><span class=n>app_data</span><span class=p>(</span><span class=n>json_config</span><span class=p>)</span><span class=w>
</span><span class=w>                </span><span class=p>.</span><span class=n>route</span><span class=p>(</span><span class=n>web</span>::<span class=n>post</span><span class=p>().</span><span class=n>to</span><span class=p>(</span><span class=n>index</span><span class=p>)),</span><span class=w>
</span><span class=w>        </span><span class=p>)</span><span class=w>
</span><span class=w>    </span><span class=p>})</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>bind</span><span class=p>(</span><span class=s>&#34;127.0.0.1:8080&#34;</span><span class=p>)</span><span class=o>?</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>run</span><span class=p>()</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>await</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h1 id=form>Form</h1><p>At the moment, only url-encoded forms are supported. The url-encoded body could be
extracted to a specific type. This type must implement the <code>Deserialize</code> trait from
the <em>serde</em> crate.</p><p><a href=https://docs.rs/actix-web/3/actix_web/web/struct.FormConfig.html><em>FormConfig</em></a> allows configuring the extraction process.</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>post</span><span class=p>,</span><span class=w> </span><span class=n>web</span><span class=p>,</span><span class=w> </span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>,</span><span class=w> </span><span class=nb>Result</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>serde</span>::<span class=n>Deserialize</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[derive(Deserialize)]</span><span class=w>
</span><span class=w></span><span class=k>struct</span> <span class=nc>FormData</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>username</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=sd>/// extract form data using serde
</span><span class=sd>/// this handler gets called only if the content type is *x-www-form-urlencoded*
</span><span class=sd>/// and the content of the request could be deserialized to a `FormData` struct
</span><span class=sd></span><span class=cp>#[post(</span><span class=s>&#34;/&#34;</span><span class=cp>)]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>index</span><span class=p>(</span><span class=n>form</span>: <span class=nc>web</span>::<span class=n>Form</span><span class=o>&lt;</span><span class=n>FormData</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Result</span><span class=o>&lt;</span><span class=nb>String</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=nb>Ok</span><span class=p>(</span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;Welcome {}!&#34;</span><span class=p>,</span><span class=w> </span><span class=n>form</span><span class=p>.</span><span class=n>username</span><span class=p>))</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h1 id=other>Other</h1><p>Actix-web also provides several other extractors:</p><ul><li><a href=https://docs.rs/actix-web/3/actix_web/web/struct.Data.html><em>Data</em></a> - If you need access to an application state.</li><li><em>HttpRequest</em> - <em>HttpRequest</em> itself is an extractor which returns self, in case you
need access to the request.</li><li><em>String</em> - You can convert a request&rsquo;s payload to a <em>String</em>. <a href=https://docs.rs/actix-web/3/actix_web/trait.FromRequest.html#example-2><em>Example</em></a>
is available in doc strings.</li><li><em>bytes::Bytes</em> - You can convert a request&rsquo;s payload into <em>Bytes</em>.
<a href=https://docs.rs/actix-web/3/actix_web/trait.FromRequest.html#example-4><em>Example</em></a>
is available in doc strings.</li><li><em>Payload</em> - You can access a request&rsquo;s payload.
<a href=https://docs.rs/actix-web/3/actix_web/web/struct.Payload.html><em>Example</em></a></li></ul><h1 id=application-state-extractor>Application state extractor</h1><p>Application state is accessible from the handler with the <code>web::Data</code> extractor;
however, state is accessible as a read-only reference. If you need mutable access to state,
it must be implemented.</p><blockquote><p><strong>Beware</strong>, actix creates multiple copies of the application state and the handlers. It creates
one copy for each thread.</p></blockquote><p>Here is an example of a handler that stores the number of processed requests:</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>web</span><span class=p>,</span><span class=w> </span><span class=n>Responder</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>cell</span>::<span class=n>Cell</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[derive(Clone)]</span><span class=w>
</span><span class=w></span><span class=k>struct</span> <span class=nc>AppState</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>count</span>: <span class=nc>Cell</span><span class=o>&lt;</span><span class=kt>i32</span><span class=o>&gt;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>show_count</span><span class=p>(</span><span class=n>data</span>: <span class=nc>web</span>::<span class=n>Data</span><span class=o>&lt;</span><span class=n>AppState</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>impl</span><span class=w> </span><span class=n>Responder</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;count: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>data</span><span class=p>.</span><span class=n>count</span><span class=p>.</span><span class=n>get</span><span class=p>())</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>add_one</span><span class=p>(</span><span class=n>data</span>: <span class=nc>web</span>::<span class=n>Data</span><span class=o>&lt;</span><span class=n>AppState</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>impl</span><span class=w> </span><span class=n>Responder</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>data</span><span class=p>.</span><span class=n>count</span><span class=p>.</span><span class=n>get</span><span class=p>();</span><span class=w>
</span><span class=w>    </span><span class=n>data</span><span class=p>.</span><span class=n>count</span><span class=p>.</span><span class=n>set</span><span class=p>(</span><span class=n>count</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;count: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>data</span><span class=p>.</span><span class=n>count</span><span class=p>.</span><span class=n>get</span><span class=p>())</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[actix_web::main]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span>-&gt; <span class=nc>std</span>::<span class=n>io</span>::<span class=nb>Result</span><span class=o>&lt;</span><span class=p>()</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>AppState</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=n>count</span>: <span class=nc>Cell</span>::<span class=n>new</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=n>HttpServer</span>::<span class=n>new</span><span class=p>(</span><span class=k>move</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=n>App</span>::<span class=n>new</span><span class=p>()</span><span class=w>
</span><span class=w>            </span><span class=p>.</span><span class=n>data</span><span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>clone</span><span class=p>())</span><span class=w>
</span><span class=w>            </span><span class=p>.</span><span class=n>route</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>,</span><span class=w> </span><span class=n>web</span>::<span class=n>to</span><span class=p>(</span><span class=n>show_count</span><span class=p>))</span><span class=w>
</span><span class=w>            </span><span class=p>.</span><span class=n>route</span><span class=p>(</span><span class=s>&#34;/add&#34;</span><span class=p>,</span><span class=w> </span><span class=n>web</span>::<span class=n>to</span><span class=p>(</span><span class=n>add_one</span><span class=p>))</span><span class=w>
</span><span class=w>    </span><span class=p>})</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>bind</span><span class=p>(</span><span class=s>&#34;127.0.0.1:8080&#34;</span><span class=p>)</span><span class=o>?</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>run</span><span class=p>()</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>await</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><p>Although this handler will work, <code>self.0</code> will be different depending on the number of threads and
number of requests processed per thread. A proper implementation would use <code>Arc</code> and <code>AtomicUsize</code>.</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>actix_web</span>::<span class=p>{</span><span class=n>get</span><span class=p>,</span><span class=w> </span><span class=n>web</span><span class=p>,</span><span class=w> </span><span class=n>App</span><span class=p>,</span><span class=w> </span><span class=n>HttpServer</span><span class=p>,</span><span class=w> </span><span class=n>Responder</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>sync</span>::<span class=n>atomic</span>::<span class=p>{</span><span class=n>AtomicUsize</span><span class=p>,</span><span class=w> </span><span class=n>Ordering</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>sync</span>::<span class=n>Arc</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[derive(Clone)]</span><span class=w>
</span><span class=w></span><span class=k>struct</span> <span class=nc>AppState</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>count</span>: <span class=nc>Arc</span><span class=o>&lt;</span><span class=n>AtomicUsize</span><span class=o>&gt;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[get(</span><span class=s>&#34;/&#34;</span><span class=cp>)]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>show_count</span><span class=p>(</span><span class=n>data</span>: <span class=nc>web</span>::<span class=n>Data</span><span class=o>&lt;</span><span class=n>AppState</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>impl</span><span class=w> </span><span class=n>Responder</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;count: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>data</span><span class=p>.</span><span class=n>count</span><span class=p>.</span><span class=n>load</span><span class=p>(</span><span class=n>Ordering</span>::<span class=n>Relaxed</span><span class=p>))</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[get(</span><span class=s>&#34;/add&#34;</span><span class=cp>)]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>add_one</span><span class=p>(</span><span class=n>data</span>: <span class=nc>web</span>::<span class=n>Data</span><span class=o>&lt;</span><span class=n>AppState</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>impl</span><span class=w> </span><span class=n>Responder</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>data</span><span class=p>.</span><span class=n>count</span><span class=p>.</span><span class=n>fetch_add</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>Ordering</span>::<span class=n>Relaxed</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;count: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>data</span><span class=p>.</span><span class=n>count</span><span class=p>.</span><span class=n>load</span><span class=p>(</span><span class=n>Ordering</span>::<span class=n>Relaxed</span><span class=p>))</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=cp>#[actix_web::main]</span><span class=w>
</span><span class=w></span><span class=n>async</span><span class=w> </span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span>-&gt; <span class=nc>std</span>::<span class=n>io</span>::<span class=nb>Result</span><span class=o>&lt;</span><span class=p>()</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>AppState</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=n>count</span>: <span class=nc>Arc</span>::<span class=n>new</span><span class=p>(</span><span class=n>AtomicUsize</span>::<span class=n>new</span><span class=p>(</span><span class=mi>0</span><span class=p>)),</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=n>HttpServer</span>::<span class=n>new</span><span class=p>(</span><span class=k>move</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=n>App</span>::<span class=n>new</span><span class=p>()</span><span class=w>
</span><span class=w>            </span><span class=p>.</span><span class=n>data</span><span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>clone</span><span class=p>())</span><span class=w>
</span><span class=w>            </span><span class=p>.</span><span class=n>service</span><span class=p>(</span><span class=n>show_count</span><span class=p>)</span><span class=w>
</span><span class=w>            </span><span class=p>.</span><span class=n>service</span><span class=p>(</span><span class=n>add_one</span><span class=p>)</span><span class=w>
</span><span class=w>    </span><span class=p>})</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>bind</span><span class=p>(</span><span class=s>&#34;127.0.0.1:8080&#34;</span><span class=p>)</span><span class=o>?</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>run</span><span class=p>()</span><span class=w>
</span><span class=w>    </span><span class=p>.</span><span class=n>await</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><blockquote><p>Be careful with synchronization primitives like <code>Mutex</code> or <code>RwLock</code>. The <code>actix-web</code> framework
handles requests asynchronously. By blocking thread execution, all concurrent
request handling processes would block. If you need to share or update some state
from multiple threads, consider using the tokio synchronization primitives.</p></blockquote><div class=github-edit><a class="fa fa-github" href=https://github.com/actix/actix-website/tree/master/content/docs/extractors.md>Edit on GitHub</a></div><div class=actix-next><b>Next up</b>: <a href=/docs/errors/>Errors</a></div></div></div></div></div><footer class=actix-footer><div class="text-muted actix-footer-gray d-flex justify-content-between"><div class=actix-footer-info>Copyright Â© 2020 The Actix Team</div><div class=actix-footer-social><a href=https://github.com/actix class=text-muted><i class="fa fa-github" aria-hidden=true></i></a></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js integrity=sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7 crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js integrity=sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8 crossorigin=anonymous></script><script src=https://actix.rs/js/bootstrap.min.js></script><script src=https://actix.rs/js/actix.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-110322332-1','auto');ga('send','pageview');}</script></body></html>